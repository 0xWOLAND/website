---
import 'katex/dist/katex.min.css';
import '../styles/global.css';
import ThemeInit from '../components/ThemeInit.astro';
import ThemeToggle from '../components/ThemeToggle.astro';

interface Props {
  title: string;
  description?: string;
  date: Date;
  tags?: string[];
}

const { title, description, date, tags } = Astro.props;
---
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>{title}</title>
  {description && <meta name="description" content={description} />}
  <ThemeInit />
</head>
<body>
  <ThemeToggle />
  <article>
    <h1>{title}</h1>
    <p class="post-meta">
      {new Date(date).toLocaleDateString('en-US', {
        year: 'numeric', month: 'long', day: 'numeric'
      })}
      {tags && ' • ' + tags.map(tag => `#${tag}`).join(' ')}
    </p>
    <hr />
    <slot />
    <hr />
    <p><a href="/">← Back to posts</a></p>
  </article>
</body>
</html>
